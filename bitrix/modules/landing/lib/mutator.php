<? namespace Bitrix\Landing;$GLOBALS['____255836649']= array(base64_decode('ZGVma'.'W5l'),base64_decode('aW5f'.'YXJ'.'y'.'YXk='),base64_decode(''.'cHJlZ1'.'9tY'.'XRja'.'F9hbGw='),base64_decode('YX'.'JyYXlfbWV'.'yZ2U='),base64_decode('YXJyYXlfdmFs'.'dW'.'Vz'),base64_decode('Y'.'XJ'.'yYXlfdW5pc'.'XVl'),base64_decode('c3Vic3Ry'),base64_decode(''.'aW5f'.'YXJyYXk='),base64_decode(''.'ZXhwbG9kZQ=='),base64_decode('c'.'GFjaw=='),base64_decode('bWQ1'),base64_decode('Y2'.'9uc3RhbnQ'.'='),base64_decode('aG'.'FzaF9ob'.'W'.'Fj'),base64_decode('c3Ry'.'Y'.'21'.'w'),base64_decode('ZXhw'.'bG'.'9kZQ=='),base64_decode('bW'.'t0aW1'.'l'),base64_decode(''.'dGltZQ=='),base64_decode(''.'ZXh'.'wbG9kZQ=='),base64_decode('cGFjaw'.'=='),base64_decode(''.'b'.'WQ'.'1'),base64_decode('Y2'.'9'.'u'.'c3Rhbn'.'Q='),base64_decode('a'.'G'.'FzaF9o'.'bWF'.'j'),base64_decode('c3RyY'.'21w'),base64_decode('Z'.'Xh'.'w'.'bG9kZQ='.'='),base64_decode('bWt'.'0aW1l'),base64_decode('dGltZ'.'Q=='),base64_decode('a'.'W5f'.'YX'.'J'.'y'.'YXk'.'='),base64_decode(''.'cHJl'.'Z19yZ'.'XBs'.'YWNlX2NhbGxiY'.'WNr'),base64_decode(''.'b'.'WJfc3RydG9sb'.'3dlcg'.'=='),base64_decode(''.'cHJlZ19yZX'.'Bs'.'YWNl'.'X'.'2Nhb'.'GxiY'.'WNr'),base64_decode('c'.'HJl'.'Z'.'19y'.'ZXBsYWN'.'l'.'X2Nhb'.'G'.'xiY'.'WNr'),base64_decode('bWJfc3RydG9'.'sb3d'.'lcg=='),base64_decode('c3RyX3'.'JlcGx'.'hY2U='),base64_decode('cHJ'.'lZ'.'19tYXRj'.'a'.'A='.'='),base64_decode('cHJlZ19yZ'.'XBsYWNlX2N'.'hb'.'Gx'.'iYWNr'));if(!function_exists(__NAMESPACE__.'\\___1948210873')){function ___1948210873($_227984938){static $_1033743620= false; if($_1033743620 == false) $_1033743620=array('T'.'E'.'FOR'.'ElOR19NVV'.'RB'.'V'.'E9S'.'X01PREU=','cnU=',''.'Y'.'nk=','a3'.'o=',''.'U'.'Eh'.'PTk'.'VfT'.'k9UX'.'0NPT'.'k'.'ZJUk1'.'FRA==',''.'TEFO'.'RElOR19Q'.'S'.'E9'.'ORV9O'.'T1Rf'.'Q09'.'O'.'Rk'.'l'.'STUVE','RU1BSUxf'.'Tk9UX0'.'NPT'.'kZJUk1FRA==','TEFORElOR1'.'9FTUFJTF'.'9OT'.'1'.'Rf'.'Q09ORklSTUVE',''.'YWxsb3'.'df'.'c'.'2tpcF9waG'.'9uZV9'.'2'.'ZXJpZml'.'jYXRpb24=','WQ==','Yml0cml4Mj'.'Q=','bGFuZGluZ19za2l'.'wX3Bob'.'25lX3Zlcmlm'.'aWNhdG'.'lv'.'bg'.'==','YWxsb3df'.'c2tpc'.'F9lb'.'WF'.'pbF'.'9'.'2ZXJpZmljYXRpb2'.'4=','WQ==','bGF'.'uZGluZ'.'w='.'=','b2'.'5M'.'YW5'.'ka'.'W5nU3'.'RhcnRQ'.'dWJ'.'saW'.'NhdGlvbg==','aWQ=','Y'.'mxvY'.'2t'.'JZA==','c2l'.'0ZU'.'lk','bGFu'.'ZGl'.'uZ1'.'91c'.'mxj'.'aG'.'V'.'ja2'.'V'.'y'.'X2t'.'l'.'eQ==','c2VsZ'.'WN0','Q09O'.'VE'.'VO'.'VA='.'=','Zmlsd'.'G'.'Vy','TElE','PURFTEVURUQ=','Tg==',''.'P'.'UFD'.'VElW'.'RQ==',''.'WQ='.'=','PVBVQkxJQw==','Tg'.'==',''.'IygoaH'.'R0cHxmd'.'HB8'.'aHR'.'0cHMp'.'Oi8vW14nI'.'l'.'x'.'zP'.'F0r'.'KSNpcw='.'=','Q0'.'9'.'OVE'.'VO'.'VA==','a'.'HR0cH'.'M6Ly'.'9wcmV2aW'.'V3L'.'mJpdHJpeDI'.'0'.'L'.'nNpdGUvdG9'.'vb'.'HMvdXJsY2'.'hlY2tlc'.'i5waHA=','a2V5','d'.'XJs','aHR0cF'.'9ob3N0','S'.'FRU'.'UF9IT1NU','T0s=','VVJMQ0hF'.'Q'.'0tFU'.'l9GQUl'.'M',''.'TEFO'.'R'.'E'.'lO'.'R19V'.'Uk'.'xD'.'SEVD'.'S'.'0VSX0Z'.'B'.'SUw=',''.'Zm'.'lsdGVy',''.'IUlE','U'.'FVCTE'.'lDX1'.'BBR0VfUkVBQ0'.'h'.'FR'.'A==','bGlta'.'XR'.'fc2l0ZXNfb'.'nV'.'t'.'Ym'.'VyX'.'3'.'BhZ2U=','SU5JVElBV'.'E'.'9S'.'X0FQU'.'F9D'.'T0RF','c'.'mVz'.'dA==','Zml'.'s'.'dGVy','PUNPRE'.'U=','SU5JVElBVE9SX0F'.'Q'.'U'.'F'.'9DT0'.'RF','','UEFZTUVOVF9B'.'TE'.'xP'.'Vw='.'=','WQ==',''.'TEFORElOR19QQVlNRU'.'5UX0ZBS'.'U'.'x'.'FRA'.'==','bGF'.'uZGluZ'.'19wY'.'X'.'lt'.'ZW50X2Z'.'haWxl'.'ZF'.'8'.'y','c'.'2VsZ'.'WN0','Q'.'0'.'9'.'ERQ'.'==','Zm'.'lsd'.'G'.'Vy','TE'.'l'.'E',''.'PU'.'FDVElWR'.'Q==','WQ==',''.'P'.'URF'.'TE'.'V'.'URUQ=','Tg==','PVBVQkxJQw==',''.'T'.'g==','Q09ERQ='.'=','cmVw'.'b'.'1'.'8l','Q09ERQ'.'==','UE'.'FZTU'.'VOVF9'.'BTEx'.'PVw='.'=','WQ'.'==','WQ==','T'.'EF'.'ORElOR'.'19QQV'.'lNR'.'U'.'5'.'UX0ZBSU'.'xFRF9CTE'.'9DSw==','bGFuZGluZ19wYXltZ'.'W50X2Zh'.'aWx'.'lZF9ibG9ja'.'w==','c2VsZWN0','SUQ=',''.'VFlQRQ==','Z'.'m'.'lsdGVy','S'.'UQ=','PV'.'N'.'QRUNJQUw'.'=','Tg==',''.'Q0hFQ0tfUE'.'V'.'ST'.'UlTU0lP'.'T'.'lM=','T'.'g==','ZmlsdG'.'Vy','IU'.'lE','SUQ'.'=','dHlw'.'ZQ==','VF'.'l'.'QRQ==',''.'VFlQRQ==','UF'.'VCTElDX1NJVE'.'VfUkVB'.'Q0'.'hF'.'RF9GUk'.'V'.'F','U'.'F'.'V'.'CT'.'ElDX1NJVEVfUk'.'VBQ0'.'hFRA='.'=','VFlQRQ='.'=','b'.'GltaXRfc2l0Z'.'XNfbnVtYm'.'VyX'.'2ZyZWU=','bGltaXRfc2l0ZXNf'.'bn'.'VtYmVy','c2VsZW'.'N0',''.'S'.'UQ=','ZmlsdGVy',''.'U0lUR'.'V9JR'.'A==','Q0h'.'FQ0tfUEV'.'STU'.'lTU0lPTlM'.'=','Tg'.'==','SUQ=','c2VsZW'.'N0','SU'.'Q=','RU5'.'U'.'SVRZX1RZ'.'UEU'.'=','RU5U'.'SVRZX0lE','Zmls'.'dGVy','TE9HSUM=',''.'T1'.'I=','P'.'UVOVE'.'l'.'UWV9'.'U'.'WVB'.'F',''.'R'.'U5USVRZX0lE',''.'P'.'UVOV'.'ElUWV9U'.'WVBF','RU5U'.'SVR'.'ZX0lE','P'.'UhPT0s=','SEV'.'BRE'.'JM'.'T0NL','PUN'.'PREU=','VV'.'NF',''.'PVZB'.'T'.'FVF','W'.'Q'.'='.'=','bGltaXQ'.'=','UFVCTElDX0'.'hUT'.'Uxf'.'RElTQ'.'UxM'.'T1dF'.'R'.'Fs=','RU5USVRZX'.'1RZUEU=',''.'RU5USVR'.'ZX0lE','XQ==',''.'bGlt'.'aXRfc2l0ZXNfaH'.'Rtb'.'F9qc'.'w==','bGFuZGlu'.'Zw==','b25MYW5kaW5nU'.'HV'.'ibGl'.'jYXRpb24=','aWQ'.'=','YmxvY2t'.'JZA==','dHB'.'sQ29kZQ==',''.'V'.'FBMX0NPREU=','Yml0c'.'ml4Mj'.'Q=','REI=',''.'U0VM'.'RUNUIFZ'.'BTFV'.'FI'.'EZST00'.'g'.'Yl9'.'vcHR'.'pb'.'24gV0hFUkUgT'.'kFNRT0n'.'fl'.'BBUkF'.'NX0'.'ZJT'.'kl'.'T'.'SF'.'9E'.'QVRFJ'.'yB'.'BTkQg'.'TU9E'.'VU'.'xFX'.'0lEPSdtYWluJ'.'w==',''.'VkFM'.'VU'.'U=','Lg==','SCo=','Y'.'m'.'l'.'0cml'.'4','TElDRU'.'5TR'.'V'.'9LRVk'.'=','c2hh'.'M'.'jU2','M'.'jA'.'xO'.'C'.'0w'.'MS0wMQ==','MjAxOC'.'0wM'.'S0wM'.'Q==','L'.'Q==','TElDRU5TRV'.'9FWFBJUkVE','TE'.'FORE'.'lO'.'R'.'19MSUNFT'.'l'.'NFX'.'0VY'.'UElS'.'RUQ'.'=','Yml0cml4'.'MjQ'.'=','REI=','U0VMRUNUIFZBTFVFI'.'EZS'.'T00gY'.'l9'.'vc'.'H'.'Rp'.'b24gV0hF'.'U'.'k'.'UgTkF'.'NRT'.'0nflBBUkFNX0ZJ'.'TklTS'.'F9'.'EQ'.'VRFJyBBTkQgTU'.'9E'.'VUxFX0lEPSdt'.'YWluJw='.'=','Vk'.'FMVU'.'U=','Lg==','SCo'.'=','Yml0cm'.'l'.'4','TE'.'lDR'.'U'.'5TRV9L'.'RVk=','c2hhMjU2',''.'M'.'jAxO'.'C0wMS0wMQ==','MjAxOC0wMS0wMQ==','L'.'Q==',''.'TElDRU'.'5TRV9FWFBJ'.'Uk'.'V'.'E','TE'.'FORElOR19MSU'.'NFT'.'lNFX'.'0VY'.'UEl'.'S'.'RUQ=','QUNUSVZF',''.'W'.'Q==','UFVCTElD','WQ='.'=','R'.'EFURV'.'9'.'QVU'.'JMS'.'UM=',''.'RE'.'F'.'URV9NT0RJ'.'Rlk'.'=','Q'.'UNUSVZF',''.'WQ==','LyhbXD'.'siXXswLDF9KS'.'NibG9jayh'.'bXG'.'RdKyk'.'oW1wm'.'Il1'.'7MCwxfSkvaX'.'M=',''.'TEl'.'E','PURFTEVURUQ=','Tg='.'=','SUQ=','c2VsZW'.'N'.'0',''.'SU'.'Q=','U'.'EFS'.'RU5UX0l'.'E','Zmls'.'dGVy','SUQ=','SUQ'.'=','S'.'U'.'Q'.'=','UEFSRU5UX'.'0lE','c2'.'VsZWN'.'0','SUQ=','U'.'FVC'.'T'.'ElD',''.'UEFS'.'RU5UX0l'.'E',''.'Q09ERQ==','U09'.'SVA==','QU'.'NUSVZF','QU5DSE9S','QUNDRVNT','Q09O'.'VEV'.'OVA==','U'.'0VBUkN'.'I'.'X0N'.'PTlR'.'FTlQ'.'=','U09V'.'UkNFX'.'1BBUkF'.'NUw==','QVNTRV'.'RT','WE1MX'.'0lE','REVTS'.'UdO'.'RUQ=','ZmlsdGVy','SUQ=',''.'UFVCTElD','W'.'Q==',''.'Q'.'0'.'9'.'OVEV'.'OV'.'A==','L2h'.'yZWY'.'9Iih'.'wc'.'m9kd'.'W'.'N0Oi'.'k/'.'I'.'2NhdGFsb'.'2c'.'oRWxl'.'bWVudHx'.'TZ'.'W'.'N0aW9uKShbXGR'.'dKyki'.'L2k'.'=','aHJlZj0i',''.'Ig==',''.'Q'.'09OV'.'EV'.'O'.'VA==','Q09OVEVOVA==','Ly'.'h'.'k'.'YXRhLXBzZXV'.'kby11'.'cm'.'w9IntcUyoocHJvZHV'.'jdD'.'o'.'p'.'Py'.'NjYXR'.'hbG'.'9nK'.'EVsZW1lbnR8U2Vjd'.'GlvbikoW'.'1xkXSsp'.'KShcU'.'yp9IikvaQ'.'==',''.'Ly'.'h'.'wcm9kd'.'WN0Oik'.'/'.'I2NhdGFsb2'.'coR'.'WxlbW'.'V'.'udHxTZWN'.'0'.'aW9uKShbXG'.'RdK'.'ykvaQ'.'==','Q09O'.'V'.'EVOVA'.'==','Q09OVEV'.'OVA='.'=','Q0'.'9OVEVOVA'.'==','Q0'.'9OVEVOVA'.'==','Y29'.'udGV'.'u'.'d'.'G'.'Vk'.'aX'.'RhYmxl'.'PSJ'.'0c'.'n'.'VlIg==','','Q09OV'.'EVOVA='.'=','UEFS'.'R'.'U5UX0'.'l'.'E','UE'.'FSRU5UX0lE','SUQ'.'=',''.'U09SVA==','U09'.'S'.'VA==','QU'.'NUSVZF','QU'.'N'.'USVZF',''.'QU5DSE9S','Q'.'U5DSE9S','WE1MX0lE','WE1MX0lE','QU'.'NDRVNT','QUNDRVNT','REVTSUdORUQ=','R'.'EV'.'TSU'.'dORUQ=','U09VUk'.'NFX1'.'BBUkF'.'N'.'Uw==','U0'.'9'.'VUk'.'NFX1BBUkFNUw==','Q09OV'.'EV'.'OVA==',''.'Q09OVE'.'VOVA==','U0VBUk'.'NIX'.'0'.'NP'.'T'.'lRFTlQ=',''.'U0'.'V'.'BU'.'kNIX'.'0NPTlRF'.'TlQ'.'=','Q'.'VNTRV'.'RT','QVN'.'TRVRT','U'.'E'.'FSR'.'U5UX'.'0'.'lE','Q09OV'.'E'.'VO'.'VA==','TElE','Q'.'09ERQ==','Q09E'.'RQ==','U'.'09'.'S'.'VA'.'==','U0'.'9SVA==','QU5DSE9'.'S','QU5DSE9S','Yg='.'=','WE1'.'MX'.'0l'.'E','W'.'E1MX0lE',''.'Q'.'UNUSVZF','QUNUSVZF','Q'.'UNDRVNT','QUN'.'DRV'.'NT','R'.'EVTSUdO'.'RUQ'.'=','R'.'EVTSU'.'dORU'.'Q'.'=','U09VU'.'kN'.'F'.'X'.'1BBUkFNUw==','U09V'.'UkNFX'.'1'.'BBUk'.'FNU'.'w==','Q09O'.'VEVOVA==',''.'Q'.'09OV'.'E'.'V'.'OVA='.'=','U0VBUkNIX'.'0NPTlRFTlQ'.'=','U0VBU'.'kNIX0NPTl'.'RFTlQ=','QVNTR'.'VRT',''.'QVNTRVRT','UEF'.'SRU5U'.'X0lE','Q09OVEVOVA==',''.'Q09'.'OVEVO'.'VA'.'==','Q0'.'9O'.'V'.'E'.'V'.'O'.'VA'.'==','Q'.'09O'.'VEVOVA==','I2J'.'sb2'.'N'.'r','I2J'.'sb2'.'Nr','Q09OVE'.'VOVA==');return base64_decode($_1033743620[$_227984938]);}}; use Bitrix\Bitrix24\Feature; use Bitrix\Landing\Assets; use Bitrix\Landing\Block\Cache; use Bitrix\Landing\Internals\HookDataTable as HookData; use Bitrix\Landing\Restriction; use Bitrix\Rest\AppTable; use Bitrix\Main\Config\Configuration; use Bitrix\Main\Event; use Bitrix\Main\EventResult; use Bitrix\Main\Localization\Loc; use Bitrix\Main\Web\HttpClient; Loc::loadMessages(__FILE__); $GLOBALS['____255836649'][0](___1948210873(0), true); class Mutator{  public static function checkSiteVerification(int $_587302031, Error $_1660996660): bool{ $_600725472= Manager::getZone();  if(!$GLOBALS['____255836649'][1]($_600725472,[___1948210873(1), ___1948210873(2), ___1948210873(3)]) &&!self::__1737410310()){ if(!Restriction\Site::isPhoneConfirmed($_587302031)){ $_1660996660->addError( ___1948210873(4), Loc::getMessage(___1948210873(5))); return false;}}  else if(!self::__1115485006()){ if(!Restriction\Site::isEmailConfirmed($_587302031)){ $_1660996660->addError( ___1948210873(6), Loc::getMessage(___1948210873(7))); return false;}} return true;}  private static function __1737410310(): bool{ if(Manager::getOption(___1948210873(8)) === ___1948210873(9)){ return true;} if(!\Bitrix\Main\Loader::includeModule(___1948210873(10))){ return true;} return Feature::isFeatureEnabled(___1948210873(11));}  private static function __1115485006(): bool{ if(Manager::getOption(___1948210873(12)) === ___1948210873(13)){ return true;} return false;}  public static function landingPublication(Landing $landing, $_512210688= null, bool $_523869175= false): bool{ static $_74912590=[]; static $_1351323927=[]; Manager::disableAllFeaturesTmp(); if(!$landing->exist()){ return false;}  $_680286833= new Event(___1948210873(14), ___1948210873(15), array( ___1948210873(16) => $landing->getId(), ___1948210873(17) => $_512210688, ___1948210873(18) => $landing->getSiteId())); $_680286833->send(); foreach($_680286833->getResults() as $_1692700442){ if($_1692700442->getType() == EventResult::ERROR){ foreach($_1692700442->getErrors() as $_1660996660){ $landing->getError()->addError( $_1660996660->getCode(), $_1660996660->getMessage());} return false;}}  if((1004/2-502))  if($_1077957168= Configuration::getValue(___1948210873(19))){ $_1523388974=[]; $_1118776292= Block::getList([ ___1948210873(20) =>[ ___1948210873(21)], ___1948210873(22) =>[ ___1948210873(23) => $landing->getId(), ___1948210873(24) => ___1948210873(25), ___1948210873(26) => ___1948210873(27), ___1948210873(28) => ___1948210873(29)]]); while($_74673709= $_1118776292->fetch()){ if($GLOBALS['____255836649'][2](___1948210873(30), $_74673709[___1948210873(31)], $_806423771)){ $_1523388974= $GLOBALS['____255836649'][3]($_1523388974, $_806423771[round(0+1)]);}} $_1523388974= $GLOBALS['____255836649'][4]($GLOBALS['____255836649'][5]($_1523388974)); $_441776175= new HttpClient; if($_1523388974){ $_1234801059= $_441776175->post(___1948210873(32),[ ___1948210873(33) => $_1077957168, ___1948210873(34) => $_1523388974, ___1948210873(35) => \Bitrix\Main\Application::getInstance()->getContext()->getServer()->get(___1948210873(36))]); if($_1234801059 && $_1234801059 !== ___1948210873(37)){ $landing->getError()->addError( ___1948210873(38), Loc::getMessage(___1948210873(39))); return false;}}}  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___1948210873(40) => array( ___1948210873(41) => $landing->getId())))){ $landing->getError()->addError( ___1948210873(42), Restriction\Manager::getSystemErrorMessage(___1948210873(43))); return false;}  $_18483639= $landing->getMeta(); if( isset($_18483639[___1948210873(44)]) && \Bitrix\Main\Loader::includeModule(___1948210873(45))){ $_1118776292= AppTable::getList([ ___1948210873(46) =>[ ___1948210873(47) => $_18483639[___1948210873(48)]]]); if($_74673709= $_1118776292->fetch()){ $_43456933= AppTable::getAppStatusInfo($_74673709, ___1948210873(49)); if($_43456933[___1948210873(50)] != ___1948210873(51)){ $landing->getError()->addError( ___1948210873(52), Restriction\Manager::getSystemErrorMessage(___1948210873(53))); return false;}}}  $_1881637201=[]; $_1118776292= Block::getList([ ___1948210873(54) =>[ ___1948210873(55)], ___1948210873(56) =>[ ___1948210873(57) => $landing->getId(), ___1948210873(58) => ___1948210873(59), ___1948210873(60) => ___1948210873(61), ___1948210873(62) => ___1948210873(63), ___1948210873(64) => ___1948210873(65)]]); while($_74673709= $_1118776292->fetch()){ $_1881637201[]= $GLOBALS['____255836649'][6]($_74673709[___1948210873(66)], round(0+2.5+2.5));} if(!empty($_1881637201)){ foreach(Repo::getAppInfo($_1881637201) as $_129485123){ if(($_129485123[___1948210873(67)] ?? ___1948210873(68)) !== ___1948210873(69)){ $landing->getError()->addError( ___1948210873(70), Restriction\Manager::getSystemErrorMessage(___1948210873(71))); return false;}}}  if(!$GLOBALS['____255836649'][7]($landing->getSiteId(), $_1351323927)){ $_1351323927[]= $landing->getSiteId(); $_1118776292= Site::getList(array( ___1948210873(72) => array( ___1948210873(73), ___1948210873(74)), ___1948210873(75) => array( ___1948210873(76) => $landing->getSiteId(), ___1948210873(77) => ___1948210873(78), ___1948210873(79) => ___1948210873(80)))); if($_74673709= $_1118776292->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE,[ ___1948210873(81) =>[ ___1948210873(82) => $_74673709[___1948210873(83)]], ___1948210873(84) => $_74673709[___1948210873(85)]])){ $_1179220873= Manager::licenseIsFreeSite($_74673709[___1948210873(86)]) &&!Manager::isFreePublicAllowed()? ___1948210873(87): ___1948210873(88); $_563307816= Manager::licenseIsFreeSite($_74673709[___1948210873(89)]) &&!Manager::isFreePublicAllowed()? ___1948210873(90): ___1948210873(91); $landing->getError()->addError( $_1179220873, Restriction\Manager::getSystemErrorMessage($_563307816)); return false;}}}  if(\Bitrix\Landing\Hook\Page\HeadBlock::isLockedFeature()){ $_462938824=[$landing->getId()];  $_1118776292= Landing::getList([ ___1948210873(92) =>[ ___1948210873(93)], ___1948210873(94) =>[ ___1948210873(95) => $landing->getSiteId(), ___1948210873(96) => ___1948210873(97)]]); while($_74673709= $_1118776292->fetch()){ $_462938824[]= $_74673709[___1948210873(98)];} $_1118776292= HookData::getList([ ___1948210873(99) =>[ ___1948210873(100), ___1948210873(101), ___1948210873(102)], ___1948210873(103) =>[[ ___1948210873(104) => ___1948210873(105),[ ___1948210873(106) => Hook::ENTITY_TYPE_SITE, ___1948210873(107) => $landing->getSiteId()],[ ___1948210873(108) => Hook::ENTITY_TYPE_LANDING, ___1948210873(109) => $_462938824]], ___1948210873(110) => ___1948210873(111), ___1948210873(112) => ___1948210873(113), ___1948210873(114) => ___1948210873(115)], ___1948210873(116) => round(0+1)]); if($_74673709= $_1118776292->fetch()){ $landing->getError()->addError( ___1948210873(117). $_74673709[___1948210873(118)]. $_74673709[___1948210873(119)]. ___1948210873(120), Restriction\Manager::getSystemErrorMessage(___1948210873(121))); return false;}} if(!self::checkSiteVerification($landing->getSiteId(), $landing->getError())){ return false;}  $_680286833= new Event(___1948210873(122), ___1948210873(123), array( ___1948210873(124) => $landing->getId(), ___1948210873(125) => $_512210688, ___1948210873(126) => $_18483639[___1948210873(127)],)); $_680286833->send(); foreach($_680286833->getResults() as $_1692700442){ if($_1692700442->getResultType() == EventResult::ERROR){ foreach($_1692700442->getErrors() as $_1660996660){ $landing->getError()->addError( $_1660996660->getCode(), $_1660996660->getMessage());} return false;}} if($_523869175){ return true;} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___1948210873(128))){ $_2083394079= $GLOBALS[___1948210873(129)]->Query(___1948210873(130), true); if($_1118776292= $_2083394079->Fetch()){ $_10137935= $_1118776292[___1948210873(131)]; list($_105673039, $_807055426)= $GLOBALS['____255836649'][8](___1948210873(132), $_10137935); $_446965603= $GLOBALS['____255836649'][9](___1948210873(133), $_105673039); $_945763414= ___1948210873(134).$GLOBALS['____255836649'][10]($GLOBALS['____255836649'][11](___1948210873(135))); $_46852489= $GLOBALS['____255836649'][12](___1948210873(136), $_807055426, $_945763414, true); if($GLOBALS['____255836649'][13]($_46852489, $_446965603) !==(154*2-308)){ $_807055426= ___1948210873(137);}} else{ $_807055426= ___1948210873(138);} if(!empty($_807055426)){ $_1506342576= $GLOBALS['____255836649'][14](___1948210873(139), $_807055426); $_1420734802= $GLOBALS['____255836649'][15]((818-2*409), min(144,0,48),(858-2*429), $_1506342576[round(0+0.5+0.5)], $_1506342576[round(0+2)], $_1506342576[min(24,0,8)]); if($_1420734802 <= $GLOBALS['____255836649'][16]()){ $landing->getError()->addError( ___1948210873(140), Loc::getMessage(___1948210873(141))); return false;}}}if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___1948210873(142))){ $_2083394079= $GLOBALS[___1948210873(143)]->Query(___1948210873(144), true); if($_1118776292= $_2083394079->Fetch()){ $_10137935= $_1118776292[___1948210873(145)]; list($_105673039, $_807055426)= $GLOBALS['____255836649'][17](___1948210873(146), $_10137935); $_446965603= $GLOBALS['____255836649'][18](___1948210873(147), $_105673039); $_945763414= ___1948210873(148).$GLOBALS['____255836649'][19]($GLOBALS['____255836649'][20](___1948210873(149))); $_46852489= $GLOBALS['____255836649'][21](___1948210873(150), $_807055426, $_945763414, true); if($GLOBALS['____255836649'][22]($_46852489, $_446965603) !==(954-2*477)){ $_807055426= ___1948210873(151);}} else{ $_807055426= ___1948210873(152);} if(!empty($_807055426)){ $_1506342576= $GLOBALS['____255836649'][23](___1948210873(153), $_807055426); $_1420734802= $GLOBALS['____255836649'][24](min(4,0,1.3333333333333),(208*2-416),(1036/2-518), $_1506342576[round(0+0.5+0.5)], $_1506342576[round(0+1+1)], $_1506342576[(856-2*428)]); if($_1420734802 <= $GLOBALS['____255836649'][25]()){ $landing->getError()->addError( ___1948210873(154), Loc::getMessage(___1948210873(155))); return false;}}} if($landing->getFolderId()){ Site::publicationFolder($landing->getFolderId());} if(!$_512210688){ Hook::setEditMode(); Hook::publicationSite($landing->getSiteId()); Hook::publicationLanding($landing->getId());} Assets\Manager::rebuildWebpackForLanding($landing->getId());  self::blocksPublication($landing, $_512210688); $_1811804532= new \Bitrix\Main\Type\DateTime; $_1892263683=[ ___1948210873(156) => ___1948210873(157), ___1948210873(158) => ___1948210873(159), ___1948210873(160) => $_1811804532, ___1948210873(161) => false]; $_1118776292= Landing::update($landing->getId(), $_1892263683); $landing->setMetaData($_1892263683);  if($_1118776292->isSuccess()){ if(!$GLOBALS['____255836649'][26]($landing->getSiteId(), $_74912590)){ $_74912590[]= $landing->getSiteId(); $_1118776292= Site::update($landing->getSiteId(), array( ___1948210873(162) => ___1948210873(163))); if(!$_1118776292->isSuccess()){ $landing->getError()->addFromResult( $_1118776292); return false;}} return true;} else{ $landing->getError()->addFromResult( $_1118776292);} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing, $_512210688= null): void{ if($landing->exist()){ $_1446790322= $landing->getId();  $_2137008991= array(); $_44997894= array(); $_305392259= array(); $_999523386= ___1948210873(164); $_2101244719=[ ___1948210873(165) => $landing->getId(), ___1948210873(166) => ___1948210873(167)]; if($_512210688){  $_2101244719[___1948210873(168)]= $_512210688; $_1118776292= Block::getList([ ___1948210873(169) =>[ ___1948210873(170), ___1948210873(171)], ___1948210873(172) => $_2101244719]); $_2101244719[___1948210873(173)]= (array)$_2101244719[___1948210873(174)]; while($_74673709= $_1118776292->fetch()){ $_2101244719[___1948210873(175)][]= $_74673709[___1948210873(176)];}} $_1118776292= Block::getList([ ___1948210873(177) =>[ ___1948210873(178), ___1948210873(179), ___1948210873(180), ___1948210873(181), ___1948210873(182), ___1948210873(183), ___1948210873(184), ___1948210873(185), ___1948210873(186), ___1948210873(187), ___1948210873(188), ___1948210873(189), ___1948210873(190), ___1948210873(191)], ___1948210873(192) => $_2101244719]); while($_74673709= $_1118776292->fetch()){ $_2137008991[$_74673709[___1948210873(193)]]= $_74673709;}  foreach($_2137008991 as $_688262647 => $_1765302015){ if($_1765302015[___1948210873(194)] != ___1948210873(195)){  $_1765302015[___1948210873(196)]= $GLOBALS['____255836649'][27]( ___1948210873(197), function($_328840278){ return ___1948210873(198). PublicAction\Utils::getIblockURL( $_328840278[round(0+1.5+1.5)], $GLOBALS['____255836649'][28]($_328840278[round(0+0.4+0.4+0.4+0.4+0.4)])). ___1948210873(199);}, $_1765302015[___1948210873(200)]);  $_1765302015[___1948210873(201)]= $GLOBALS['____255836649'][29]( ___1948210873(202), function($_328840278){ $_328840278[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]= $GLOBALS['____255836649'][30]( ___1948210873(203), function($_245512603){ return PublicAction\Utils::getIblockURL( $_245512603[round(0+3)], $GLOBALS['____255836649'][31]($_245512603[round(0+1+1)]));}, $_328840278[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]); return $_328840278[round(0+1)]. $_328840278[round(0+1+1+1+1+1)];}, $_1765302015[___1948210873(204)]);  $_1765302015[___1948210873(205)]= Subtype\Form::prepareFormsToPublication( $_1765302015[___1948210873(206)]);  $_1765302015[___1948210873(207)]= $GLOBALS['____255836649'][32]( ___1948210873(208), ___1948210873(209), $_1765302015[___1948210873(210)]); $_379917348= isset($_2137008991[$_1765302015[___1948210873(211)]])? $_2137008991[$_1765302015[___1948210873(212)]][___1948210873(213)]: min(20,0,6.6666666666667); if($_379917348){ Cache::clear($_379917348); $_1118776292= Block::update($_379917348, array( ___1948210873(214) => $_1765302015[___1948210873(215)], ___1948210873(216) => $_1765302015[___1948210873(217)], ___1948210873(218) => $_1765302015[___1948210873(219)], ___1948210873(220) => $_1765302015[___1948210873(221)], ___1948210873(222) => $_1765302015[___1948210873(223)], ___1948210873(224) => $_1765302015[___1948210873(225)], ___1948210873(226) => $_1765302015[___1948210873(227)], ___1948210873(228) => $_1765302015[___1948210873(229)], ___1948210873(230) => $_1765302015[___1948210873(231)], ___1948210873(232) => $_1765302015[___1948210873(233)])); $_1118776292->isSuccess(); unset($_2137008991[$_1765302015[___1948210873(234)]]);  File::replaceInBlock( $_379917348, File::getFilesFromBlockContent( $_688262647, $_1765302015[___1948210873(235)]));} else{ $_1118776292= Block::add(array( ___1948210873(236) => $_1446790322, ___1948210873(237) => $_1765302015[___1948210873(238)], ___1948210873(239) => $_1765302015[___1948210873(240)], ___1948210873(241) => $_1765302015[___1948210873(242)]?: ___1948210873(243). $_688262647, ___1948210873(244) => $_1765302015[___1948210873(245)], ___1948210873(246) => $_1765302015[___1948210873(247)], ___1948210873(248) => $_1765302015[___1948210873(249)], ___1948210873(250) => $_1765302015[___1948210873(251)], ___1948210873(252) => $_1765302015[___1948210873(253)], ___1948210873(254) => $_1765302015[___1948210873(255)], ___1948210873(256) => $_1765302015[___1948210873(257)], ___1948210873(258) => $_1765302015[___1948210873(259)])); if($_1118776292->isSuccess()){ $_379917348= $_1118776292->getId(); $_1118776292= Block::update($_688262647, array( ___1948210873(260) => $_379917348)); $_1118776292->isSuccess();  File::addToBlock( $_379917348, File::getFilesFromBlockContent( $_688262647, $_1765302015[___1948210873(261)]));}} if($_379917348){ $_160912157= new Block($_379917348); Assets\PreProcessing::blockPublicationProcessing($_160912157); $_1765302015[___1948210873(262)]= $_160912157->getContent(); unset($_160912157);} if($GLOBALS['____255836649'][33]($_999523386, $_1765302015[___1948210873(263)])){ $_44997894[$_379917348]= $_1765302015[___1948210873(264)];} $_305392259[$_688262647]= $_379917348; unset($_2137008991[$_688262647]);}}  foreach($_2137008991 as $_688262647 => $_1765302015){ $_1118776292= Block::delete($_688262647); $_1118776292->isSuccess();}  foreach($_44997894 as $_688262647 => $_713126564){ $_713126564= $GLOBALS['____255836649'][34]( $_999523386, function($_2101829801) use($_305392259){ if(isset($_305392259[$_2101829801[round(0+0.5+0.5+0.5+0.5)]])){ return $_2101829801[round(0+0.5+0.5)]. ___1948210873(265). $_305392259[$_2101829801[round(0+0.5+0.5+0.5+0.5)]]. $_2101829801[round(0+3)];} else{ return $_2101829801[round(0+0.5+0.5)]. ___1948210873(266). $_2101829801[round(0+0.5+0.5+0.5+0.5)]. $_2101829801[round(0+1.5+1.5)];}}, $_713126564); $_1118776292= Block::update($_688262647, array( ___1948210873(267) => $_713126564)); $_1118776292->isSuccess();}}}}?>